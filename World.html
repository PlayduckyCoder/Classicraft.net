// Cube setup
const box = BABYLON.MeshBuilder.CreateBox("box", { size: 5 }, scene);
box.checkCollisions = true;

// Correct texture assignment
const topTex = new BABYLON.Texture("data:image/jpeg;base64,<your real top texture>", scene);
const sideTex = new BABYLON.Texture("data:image/jpeg;base64,<your real side texture>", scene);
const bottomTex = new BABYLON.Texture("data:image/jpeg;base64,<your real bottom texture>", scene);

const boxMat = new BABYLON.StandardMaterial("boxMat", scene);
box.material = boxMat;

// Fix: make sure each texture goes to the correct face
boxMat.diffuseTexture = sideTex; // default side
boxMat.diffuseTexture.hasAlpha = false;

// Manually assign correct faces
const faceUV = [];
faceUV[0] = new BABYLON.Vector4(0, 0, 1, 1); // Right
faceUV[1] = new BABYLON.Vector4(0, 0, 1, 1); // Left
faceUV[2] = new BABYLON.Vector4(0, 0, 1, 1); // Top
faceUV[3] = new BABYLON.Vector4(0, 0, 1, 1); // Bottom
faceUV[4] = new BABYLON.Vector4(0, 0, 1, 1); // Front
faceUV[5] = new BABYLON.Vector4(0, 0, 1, 1); // Back

// Assign top and bottom manually
const multimat = new BABYLON.MultiMaterial("multi", scene);
const sideMat = new BABYLON.StandardMaterial("side", scene);
sideMat.diffuseTexture = sideTex;

const topMat = new BABYLON.StandardMaterial("top", scene);
topMat.diffuseTexture = topTex;

const bottomMat = new BABYLON.StandardMaterial("bottom", scene);
bottomMat.diffuseTexture = bottomTex;

multimat.subMaterials.push(sideMat);   // 0
multimat.subMaterials.push(topMat);    // 1
multimat.subMaterials.push(bottomMat); // 2

box.material = multimat;

// Assign material indices for each face
box.subMeshes = [];
const verticesCount = box.getTotalVertices();

new BABYLON.SubMesh(0, 0, verticesCount, 0, 6, box);   // front
new BABYLON.SubMesh(0, 0, verticesCount, 6, 6, box);   // back
new BABYLON.SubMesh(1, 0, verticesCount, 12, 6, box);  // top
new BABYLON.SubMesh(2, 0, verticesCount, 18, 6, box);  // bottom
new BABYLON.SubMesh(0, 0, verticesCount, 24, 6, box);  // right
new BABYLON.SubMesh(0, 0, verticesCount, 30, 6, box);  // left
